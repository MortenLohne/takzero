undirected_02 = [
    (0, 1),
    (250033, 0.8890146500661913),
    (500000, 0.8366104325771002),
    (750016, 0.8192355689235888),
    (1000038, 0.8095567590052075),
    (1250021, 0.8055347763647928),
    (1500018, 0.8018256219074629),
    (1750012, 0.7979311503476083),
    (2000018, 0.792440981416446),
    (2250031, 0.7849271837864431),
    (2500015, 0.7795378904249872),
    (2750036, 0.775806832226093),
    (3000023, 0.7717761323588826),
    (3250007, 0.769489247311828),
    (3500007, 0.76874),
    (3750017, 0.7652013919443222),
    (4000020, 0.7618348579817042),
    (4250037, 0.7593523640392453),
    (4500003, 0.7525743501116152),
    (4750022, 0.7550546158491954),
    (5000042, 0.7502799776017919),
    (5250027, 0.7492689561373682),
    (5500030, 0.7454830542033496),
    (5750004, 0.7467976669573636),
    (6000038, 0.7442747786301063),
    (6250027, 0.743068695022581),
    (6500004, 0.7369397984614584),
    (6750026, 0.7337154330418924),
    (7000033, 0.732215497966057),
    (7250007, 0.7302279437061454),
    (7500042, 0.7262303277541144),
    (7750010, 0.7243407156115983),
    (8000032, 0.7270400204781979),
    (8250042, 0.720803167873285),
    (8500039, 0.7175406104873259),
    (8750040, 0.7179171283314867),
    (9000003, 0.7150418261902761),
    (9250013, 0.7129914803407864),
    (9500001, 0.7114421492231627),
    (9750003, 0.705438356493148),
    (10000050, 0.7078989150039793),
    (10250047, 0.7063764765177182),
    (10500025, 0.6996135659938074),
    (10750013, 0.7020456981935133),
    (11000000, 0.7033205726697789),
    (11250021, 0.6977893856916019),
    (11500003, 0.6991343376723124),
    (11750007, 0.6946808851058383),
    (12000006, 0.6896227584910339),
    (12250000, 0.6944126659039817),
    (12500016, 0.6978073403302189),
    (12750010, 0.6938406521756522),
    (13000034, 0.6883499184078329),
    (13250041, 0.6909366537736943),
    (13500012, 0.6892759560108973),
    (13750030, 0.6840707469062227),
    (14000008, 0.6806278952547824),
    (14250045, 0.6836268232301619),
    (14500033, 0.6824087556202698),
    (14750020, 0.6788993027637437),
    (15000023, 0.6797158434098791),
    (15250043, 0.6751179905607552),
    (15500014, 0.6744662380836177),
    (15750007, 0.6747068917929702),
    (16000002, 0.6758455169103382),
    (16250038, 0.6718192580268442),
    (16500025, 0.672370963290091),
    (16750040, 0.669235845849249),
    (17000015, 0.6712591259125913),
    (17250015, 0.667832),
    (17500035, 0.6639908807295416),
    (17750034, 0.6642586570346282),
    (18000022, 0.6649879194201321),
    (18250018, 0.6695987135794172),
    (18500012, 0.6661559877437059),
    (18750042, 0.6631084269887614),
    (19000031, 0.662833164659245),
    (19250046, 0.6638961662300262),
    (19500038, 0.6611931581810618),
    (19750029, 0.6583677012372445),
    (20000026, 0.6580678968147617),
    (20250008, 0.658239393236313),
    (20500003, 0.6540010800216004),
    (20750006, 0.6581881017427791),
    (21000034, 0.6574503655590573),
    (21250010, 0.6509944954715653),
    (21500035, 0.654002599740026),
    (21750020, 0.6547752865171911),
    (22000021, 0.6516533933864265),
    (22250007, 0.648324306161145),
    (22500018, 0.6523752954869986),
    (22750037, 0.6473268031629597),
    (23000000, 0.6446634101847073),
    (23250038, 0.6498772186627633),
    (23500014, 0.6466980830159695),
    (23750005, 0.6453832337964167),
    (24000014, 0.6459927442612066),
    (24250028, 0.6414440791315686),
    (24500005, 0.6428391412009905),
    (24750000, 0.6437248744974899),
    (25000050, 0.6449310137972406),
    (25250001, 0.6397253861756904),
    (25500020, 0.6407473032049564),
    (25750029, 0.642932854417241),
    (26000005, 0.639829423624668),
    (26250027, 0.6430194142915423),
    (26500031, 0.6385017839714564),
    (26750009, 0.6358159518037587),
    (27000003, 0.640123362960711),
    (27250045, 0.630686044744483),
    (27500014, 0.6337745880489181),
    (27750009, 0.6331166623332467),
    (28000007, 0.6339930719445755),
    (28250002, 0.6328446568931378),
    (28500004, 0.6229950160398717),
    (28750030, 0.6313903354051179),
    (29000022, 0.625832026624852),
    (29250024, 0.6264909880720955),
    (29500000, 0.6279682849553557),
    (29750019, 0.6312600242381579),
    (30000013, 0.6271950526812643),
    (30250011, 0.6247809982479859),
    (30500036, 0.6278252174782522),
    (30750020, 0.6289602534562212),
    (31000012, 0.6288041217318954),
    (31250038, 0.6245430475230576),
    (31500003, 0.6259396315484168),
    (31750030, 0.6199850416155055),
    (32000014, 0.6278801843317973),
    (32250007, 0.6201973655262347),
    (32500025, 0.6280667791918981),
    (32750034, 0.6245095176573643),
    (33000011, 0.6180888641755041),
    (33250038, 0.62052898286985),
    (33500014, 0.6213796524466348),
    (33750007, 0.6215054021512603),
    (34000013, 0.6170611905314273),
    (34250010, 0.6171554058648704),
    (34500028, 0.6203233367197561),
    (34750009, 0.6119905112788572),
    (35000046, 0.6013150053792039),
    (35250023, 0.5987590858358969),
    (35500037, 0.5916188693433168),
    (35750025, 0.5830879882234348),
    (36000012, 0.5752779144515515),
    (36250014, 0.577843377252982),
    (36500059, 0.5644863924493592),
    (36750048, 0.5673049614183024),
    (37000013, 0.5611825655591783),
    (37250013, 0.562752),
    (37500030, 0.556414163836859),
    (37750002, 0.5522498519834221),
    (38000044, 0.553567000743875),
    (38250049, 0.5458930821383572),
    (38500024, 0.5432863286328633),
    (38750002, 0.5439918712846731),
    (39000040, 0.5378582455466769),
    (39250005, 0.5330866321284979),
    (39500007, 0.5356157150742794),
    (39750005, 0.5276442211537692),
    (40000013, 0.5273231256599789),
]
simhash_02 = [
    (0, 1),
    (250018, 0.9069027030053836),
    (500050, 0.8857306264798106),
    (750035, 0.8677400644038642),
    (1000021, 0.8574160152968566),
    (1250033, 0.8503551829512184),
    (1500040, 0.8484562432251896),
    (1750051, 0.8461787681342021),
    (2000006, 0.8412474245364165),
    (2250005, 0.8444113776455106),
    (2500048, 0.8403594581731942),
    (2750110, 0.8397477425598452),
    (3000065, 0.8364225560600909),
    (3250084, 0.8318967758450357),
    (3500046, 0.8331226346404653),
    (3750039, 0.8315512834359362),
    (4000008, 0.8296068712520352),
    (4250028, 0.8296696264298856),
    (4500012, 0.8287890424987199),
    (4750016, 0.8256707892673717),
    (5000019, 0.8269540765510814),
    (5250014, 0.8244404888097762),
    (5500000, 0.8191098701527285),
    (5750038, 0.8226709540149897),
    (6000029, 0.8135572880623703),
    (6250050, 0.8180952799964802),
    (6500006, 0.8172758405479364),
    (6750014, 0.8114340341109084),
    (7000048, 0.8145732180423463),
    (7250051, 0.8114182629808442),
    (7500012, 0.8083341001196187),
    (7750061, 0.805574107474935),
    (8000046, 0.8041202472148329),
    (8250038, 0.8061057953854524),
    (8500032, 0.8032192772626543),
    (8750005, 0.8021666339964716),
    (9000025, 0.8024878009759219),
    (9250041, 0.797752943811596),
    (9500036, 0.8061321226424528),
    (9750049, 0.8018823021202898),
    (10000021, 0.8016097802953931),
    (10250022, 0.7980808076767693),
    (10500014, 0.7943374187974015),
    (10750001, 0.7921491917579714),
    (11000038, 0.7932186036466603),
    (11250047, 0.7885036138699006),
    (11500025, 0.7856171343078191),
    (11750039, 0.7829281560232627),
    (12000026, 0.7820526667386705),
    (12250075, 0.780666989270103),
    (12500010, 0.782739512273191),
    (12750049, 0.7771547638568383),
    (13000033, 0.7806419610855094),
    (13250004, 0.7827507990926947),
    (13500089, 0.7785632884819161),
    (13750017, 0.7693615761339265),
    (14000060, 0.7707154369448455),
    (14250001, 0.7704498261589735),
    (14500014, 0.7671721070504334),
    (14750012, 0.7688221505772046),
    (15000077, 0.7688001119708876),
    (15250023, 0.7671056948300833),
    (15500076, 0.7672613405957937),
    (15750016, 0.7618428422821477),
    (16000068, 0.7655647625293939),
    (16250050, 0.7637669912233681),
    (16500013, 0.7630809359785248),
    (16750008, 0.7624072481449629),
    (17000035, 0.7644694373007715),
    (17250029, 0.7642303415281967),
    (17500043, 0.7595774636620349),
    (17750034, 0.7554311955230388),
    (18000037, 0.754818942172694),
    (18250017, 0.7621249699975998),
    (18500002, 0.7648858931535892),
    (18750015, 0.7604484566802526),
    (19000009, 0.7535500852020448),
    (19250020, 0.756242725320086),
    (19500036, 0.7524478433380264),
    (19750019, 0.749802986603089),
    (20000026, 0.7538708916150347),
]
naive_00 = [
    (0, 1),
    (250035, 0.9277661127442158),
    (500106, 0.9282643729180913),
    (750005, 0.9241333498733488),
    (1000008, 0.9132090414915021),
    (1250030, 0.9084040604426811),
    (1500027, 0.904638855666268),
    (1750082, 0.9018455939693267),
    (2000047, 0.8996899565939231),
    (2250002, 0.8951371246824429),
    (2500032, 0.8934407871055473),
    (2750052, 0.891692664586833),
    (3000048, 0.8915182642922287),
    (3250036, 0.8933748819943357),
    (3500043, 0.8925710080117757),
    (3750037, 0.8916453994895878),
    (4000001, 0.8905042326094957),
    (4250067, 0.8884254556797005),
    (4500097, 0.8854817421909371),
    (4750078, 0.881038958960881),
    (5000074, 0.8876422022752364),
    (5250013, 0.8848999155794014),
    (5500028, 0.8844189348639082),
    (5750048, 0.8824374050075994),
    (6000042, 0.8832451978847492),
    (6250042, 0.881696),
    (6500099, 0.8811470984615508),
    (6750005, 0.8782782326154635),
    (7000015, 0.8779408823647055),
    (7250055, 0.8800431930891057),
    (7500033, 0.8764251254110361),
    (7750017, 0.8740679403481822),
    (8000026, 0.87607246139139),
    (8250048, 0.8742470662581693),
    (8500095, 0.8730358692565797),
    (8750074, 0.8708451509926833),
    (9000011, 0.8660742507111793),
    (9250031, 0.8637588992880569),
    (9500006, 0.8617901790179018),
    (9750009, 0.868353579757043),
    (10000070, 0.8629294452153674),
    (10250052, 0.8652702994615612),
    (10500005, 0.8635703512260305),
    (10750005, 0.860876),
    (11000046, 0.8592270867577717),
    (11250079, 0.8601264633068435),
    (11500004, 0.8614344303290987),
    (11750004, 0.855148),
    (12000056, 0.8560059507622415),
    (12250066, 0.85479380824767),
    (12500028, 0.853417719493363),
    (12750050, 0.8571845677580373),
    (13000027, 0.8597510971009333),
    (13250047, 0.8488520918326534),
    (13500040, 0.8516198453556699),
    (13750025, 0.8497069824189452),
    (14000032, 0.8494042166819329),
    (14250013, 0.8484084790444074),
    (14500058, 0.8479873622747905),
    (14750035, 0.8439256411589866),
    (15000020, 0.8447346840810449),
    (15250031, 0.8446948334273292),
    (15500029, 0.8438227505820046),
    (15750023, 0.8420282086770082),
    (16000018, 0.8393127862557251),
    (16250054, 0.8371514501911724),
    (16500038, 0.8389016897081413),
    (16750053, 0.8360138391696498),
    (17000032, 0.834770120690138),
    (17250033, 0.8352726589093643),
    (17500040, 0.8374125524485314),
    (17750050, 0.8449142034318627),
    (18000027, 0.8415934265952467),
    (18250021, 0.8427762266294391),
    (18500077, 0.8427992129762933),
    (18750057, 0.8343107448595888),
    (19000057, 0.82682),
    (19250000, 0.8270765734587486),
    (19500041, 0.8328154182714035),
    (19750002, 0.8282052000112018),
    (20000029, 0.8310502465733701),
]

undirected = ("undirected", "tab:blue", [undirected_02])
directed = (
    "SimHash $\\beta = \\frac{1}{4}$",
    "tab:orange",
    [simhash_02],
)
naive = (
    "naive",
    "tab:green",
    [naive_00],
)

runs = [undirected, directed, naive]

import numpy as np
import matplotlib.pyplot as plt
import matplotlib

matplotlib.rcParams.update({'font.size': 16})
matplotlib.rcParams.update({'figure.figsize': (8, 6)})

for name, color, seeds in runs:
    points = [
        (
            np.mean([pos for pos, _ratio in xs]),  # pos
            np.mean([ratio for _pos, ratio in xs]),  # mean
            np.std([ratio for _pos, ratio in xs]),  # std
        )
        for xs in zip(*seeds)
    ]
    x = np.array([x for x, y, z in points])
    y = np.array([y for x, y, z in points])
    std = np.array([z for x, y, z in points])
    plt.plot(x, y, label=name, color=color, linewidth=2)
    plt.fill_between(x, y - std, y + std, color=color, alpha=0.3)

plt.xlim(0, 40_000_000)
plt.ylim(0, 1)
plt.grid()
plt.legend()
# plt.show()
# plt.title("Replay Buffer Uniqueness")
plt.xlabel("Environment Interactions")
plt.ylabel("Ratio of Unique Positions")
plt.savefig("replay_buffer_uniqueness.png", bbox_inches="tight", dpi=160)
